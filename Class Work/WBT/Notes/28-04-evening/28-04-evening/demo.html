<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Document</title>
</head>

<body>

<script>
    // sum-1, factorial->3, square -> 2

    // sum 2 3 -> factorial(sum result) -> square(fact result)
    // console.log("calculating sum....");
    // setTimeout(() => {
    //     var x = 2;
    //     var y = 3;
    //     var z = x + y;
    //     console.log("sum is ", z);
    //     console.log("calculating factorial...");
    //     setTimeout(() => {
    //         var f = 1;
    //         for (var i = 1; i <= z; i++) {
    //             f = f * i;
    //         }
    //         console.log("factorial is", f);
    //         console.log("calculating square...");
    //         setTimeout(() => {
    //             var sq = f * f;
    //             console.log("square is ", sq);
    //         }, 2000);
    //     }, 3000);
    // }, 1000);

    function sum(a, b) {
        return new Promise((resolve, reject) => {
            console.log("calculating sum...");
            setTimeout(() => {
                var c = a + b;
                if (c) {
                    resolve(c);
                } else {
                    reject("Error: something went wrong in sum");
                }
            }, 1000);
        });
    }

    function factorial(num) {
        return new Promise((resolve, reject) => {
            console.log("calculating factorial...");
            setTimeout(() => {
                var f = 1;
                for (var i = 1; i <= num; i++) {
                    f = f * i;
                }
                if (f) {
                    resolve(f);
                } else {
                    reject("Error: cannot find factorial");
                }
            }, 3000);
        });
    }

    sum(2, 3)
        .then((result) => {
            console.log("sum is ", result);
            var obj = factorial(5);
            return obj;
        })
        .then((factResult) => {
            console.log("factorial is", factResult);
        })
        .catch((error) => {
            console.log(error);
        });


</script>
</body>

</html>